<!DOCTYPE html><html lang="vi"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# website: http://ogp.me/ns/website#"><meta property="og:type" content="website"><meta property="og:url" content="http://thiepdo.com/fall-in-love"><meta property="og:description" content="{{ description }}"><meta property="og:title" content="{{ name }}"><meta property="og:image" content="/bundles/viettutweb/img/templates/fallinlove/00f585a694b8533423d75e21a851af23.jpg"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="format-detection" content="telephone=no"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><link href="/bundles/viettutweb/img/thiepdo_120x120.png" sizes="120x120" rel="apple-touch-icon"><link rel="icon" sizes="144x144" href="/bundles/viettutweb/img/thiepdo_144x144.png"><link rel="icon" sizes="64x64" href="/bundles/viettutweb/img/thiepdo_64x64.png"><title>{{ name }}</title><link rel="stylesheet" type="text/css" href="{{ asset('css/libraries.min.css') }}"><link rel="stylesheet" type="text/css" href="{{ asset('css/fallinlove/app.css') }}"></head><body><h1 class="hide">Fall In Love - Phải lòng</h1><h2 class="hide">Trắng tinh khôi điểm xuyết sao vàng lấp lánh mang đến cảm giác lung linh huyền diệu như một giấc mơ.</h2><div id="coordinates" data-lon="{{ lon }}" data-lat="{{ lat }}" data-title="{{ data['place'] }}" data-home-lon="{{ homeLon }}" data-home-lat="{{ homeLat }}" data-home-title="{% if forGroom %}Nhà Trai{% else %}Nhà Gái{% endif %}"></div><div id="card_id" data-id="{{ id }}"></div><div data-role="page" id="skin_page"><div data-role="panel" id="panel_groom" class="leftpanel" data-position="left" data-display="push" data-position-fixed="true" data-swipe-close="true" data-theme="b" style="background:#eee url('/bundles/viettutweb/img/templates/fallinlove/bg_groom.jpg') center top no-repeat; background-size:100%; z-index:9999;"><div class="groom-wrap"><ul><a href="tel:{{ data['groom_phone'] }}"><li class="ico5">Gọi điện</li></a><a href="sms:{{ data['groom_phone'] }}"><li class="ico6">Nhắn tin</li></a>{% if 'groom_facebook' in data|keys %} <a href="{{ data['groom_facebook'] }}" target="_blank" title="Facebook"><li class="ico7">Facebook</li></a>{% else %} <a href="http://facebook.com/thiepdodigital" target="_blank" title="Facebook"><li class="ico7">Facebook</li></a>{% endif %} {% if 'groom_instagram' in data|keys %} <a href="{{ data['groom_instagram'] }}" target="_blank" title="Instagram"><li class="ico_insta">Instagram</li></a>{% else %} <a href="http://instagram.com/thiepdodigital" target="_blank" title="Instagram"><li class="ico_insta">Instagram</li></a>{% endif %}</ul><p class="btn_go_snsbbs">Chúc mừng</p></div></div><div data-role="panel" id="panel_bride" class="righttpanel" data-position="right" data-display="push" data-position-fixed="true" data-swipe-close="true" data-theme="a" style="background:#eee url('/bundles/viettutweb/img/templates/fallinlove/bg_bride.jpg') center top no-repeat; background-size:100% auto; z-index:9999;"><div class="bride-wrap"><ul><a href="tel:{{ data['bride_phone'] }}" title="Gọi điện"><li class="ico1">Gọi điện</li></a><a href="sms:{{ data['bride_phone'] }}" title="Nhắn tin"><li class="ico2">Nhắn tin</li></a>{% if 'bride_facebook' in data|keys %} <a href="{{ data['bride_facebook'] }}" target="_blank" title="Facebook"><li class="ico3">Facebook</li></a>{% else %} <a href="http://facebook.com/thiepdodigital" target="_blank" title="Facebook"><li class="ico3">Facebook</li></a>{% endif %} {% if 'bride_instagram' in data|keys %} <a href="{{ data['bride_instagram'] }}" target="_blank" title="Instagram"><li class="ico_insta">Instagram</li></a>{% else %} <a href="http://instagram.com/thiepdodigital" target="_blank" title="Instagram"><li class="ico_insta">Instagram</li></a>{% endif %}</ul><p class="btn_go_snsbbs">Chúc mừng</p></div></div><div data-role="panel" id="right-panel" data-position="right" data-display="push" style="z-index:9999;"><div class="menu-wrap ui-panel-inner"><ul data-role="listview" data-icon="false"><li data-icon="delete"><a href="#" data-rel="close">Đóng</a></li><li class="menu_scrolls" data-rel="close"><span>TRANG CHỦ</span></li><li class="menu_scrolls" data-rel="close" id="p_topinfo"><span>THÔNG TIN</span></li><li class="menu_scrolls" data-rel="close" id="p_gallery"><span>ALBUM ẢNH</span></li><li class="menu_scrolls" data-rel="close" id="p_media"><span>VIDEO</span></li><li class="menu_scrolls" data-rel="close" id="p_snsbbs"><span>LƯU BÚT</span></li><li class="menu_scrolls" data-rel="close" id="p_map"><span>ĐỊA ĐIỂM</span></li></ul></div></div><div class="lnb"><ul><li class="menu1 menu_scrolls"><span>Trang chủ</span></li><li class="menu1 menu_scrolls on" id="m_topinfo"><span>Thông tin</span></li><li class="menu2 menu_scrolls" id="m_gallery"><span>Album ảnh</span></li><li class="menu3 menu_scrolls" id="m_media"><span>Video</span></li><li class="menu4 menu_scrolls" id="m_snsbbs"><span>Lưu bút</span></li><li class="menu5 menu_scrolls" id="m_map"><span>Địa điểm</span></li></ul></div><div class="lnb_mobile"><a href="#right-panel"><img src="/bundles/viettutweb/img/templates/fallinlove/lnb_mobile.png" alt="menu"></a></div><div id="sk_topinfo" class="header"><div class="header_bg" style="background:url('/bundles/viettutweb/img/templates/fallinlove/00f585a694b8533423d75e21a851af23.jpg') CENTER CENTER no-repeat; background-size:cover;"></div><div class="header_box"><h1 class="header_title wow fadeIn" data-wow-duration="0.5s" data-wow-delay="0.5s"><p class="title"><span class="fl">SAVE</span><span class="italic">the</span><span class="fr">DATE</span></p><p><span class="fl date">{{ date | date('d.m.Y') }}</span><span class="fr time">{{ date | date('H:i A') }}</span></p></h1><div class="scrolldown wow fadeInDown" data-wow-duration="0.2s" data-wow-delay="1s"><span>Kéo xuống</span></div></div><div class="greeting_wrap"><div class="ul-body greeting_box"><div class="greeting_photo" style="background:url('/bundles/viettutweb/img/templates/fallinlove/00f585a694b8533423d75e21a851af23.jpg') CENTER CENTER no-repeat; background-size:cover;"></div><div class="greeting_textbox"><h2 class="title">Trân trọng kính mời</h2><p class="greeting_text">{{ data['greeting'] | raw }}</p><ul class="greeting_name"><li class="gn_groom"><p><span class="gn4">Chú Rể<strong>{{ data['groom_name'] }}</strong></span></p><p><span class="gn1">{{ data['groom_fa_name'] }}</span> <span class="gn_and">,</span> <span class="gn2">{{ data['groom_mo_name'] }}</span> {#<span class="gn3">의 장남</span>#}</p><p class="panel"><a href="#panel_groom"><span class="icon"></span>Liên hệ chú rể</a></p></li><li class="gn_bride"><p><span class="gn4">Cô Dâu<strong>{{ data['bride_name'] }}</strong></span></p><p><span class="gn1">{{ data['bride_fa_name'] }}</span> <span class="gn_and">,</span> <span class="gn2">{{ data['bride_mo_name'] }}</span> {#<span class="gn3">의 차녀</span>#}</p><p class="panel"><a href="#panel_bride"><span class="icon"></span>Liên hệ cô dâu</a></p></li></ul><div class="greeting_loca"><p>{{ date | long_date }}, hồi {{ date | date('H:i') }}</p><p>{{ data['place'] }}</p></div></div></div></div><div class="header_panel"><a href="#panel_groom"><p class="groom">Chú rể</p></a><a href="#panel_bride"><p class="bride">Cô dâu</p></a></div></div>{#<div class="parents_wrap">#} {#<h2 class="pa-tit">#} {#Liên Hệ#} {#</h2>#} {#<ul class="pa-list" data-count="2">#} {#<li class="pa-groom"><span class="ico-arrow">Chú rể</span></li>#} {#<li class="pa-bride"><span class="ico-arrow">Cô dâu</span></li>#} {#</ul>#} {#</div>#}<div class="gallery_wrap ui-cont-b" id="sk_gallery"><h2 class="title hidden">ALBUM ẢNH</h2><div class="gal_list2"><div class="gal_size"></div><div class="gal_frame"><div class="savethedate"><strong>{{ date | date('d.m.Y') }}</strong><span>{{ date | date('D H:i a') }}</span></div></div>{% for img in gallery[0:10] %} <a href="{{ img['src'] }}" class="swipebox" data-ajax="false" data-size="{{ img['size'] }}" imgid="{{ loop.index }}"><div class="gal_frame"><img src="{{ img['src'] }}" alt="gallery photo"></div></a>{% endfor %} {% if gallery | length > 10 %} <a href="{{ gallery[10]['src'] }}" class="swipebox" data-ajax="false" data-size="{{ gallery[10]['size'] }}" imgid="10"><div class="gal_more"><span>more</span></div></a>{% endif %} {% for img in gallery[10:] %} <a href="{{ img['src'] }}" class="swipebox" data-ajax="false" data-size="{{ img['size'] }}" imgid="{{ loop.index + 11 }}"><div class="gal_frame hide"><img src="{{ img['src'] }}"></div></a>{% endfor %}</div></div>{% if isTemplate %}<div class="movie_wrap ui-cont-b" id="sk_media"><h2 class="title hidden">VIDEO</h2><div class="ul-body"><div class="message"></div><div class="movie_container movie1"><ul><li><iframe id="movie" width="100%" src="https://www.youtube.com/embed/Q9aUb6FJdhk?showinfo=0&autohide=1&rel=0&vq=hd1080" height="100%" frameborder="0" allowfullscreen></iframe></li></ul></div></div></div>{% else %} {% if embed | length > 0 %}<div class="movie_wrap ui-cont-b" id="sk_media"><h2 class="title hidden">VIDEO</h2><div class="ul-body"><div class="message"></div><div class="movie_container movie1"><ul><li>{{ embed | raw }}</li></ul></div></div></div>{% endif %} {% endif %}<div class="guestbook_wrap ui-cont-b" id="sk_snsbbs"><h2 class="title btn_go_snsbbs"><img src="/bundles/viettutweb/img/templates/fallinlove/guestbook_title.png" alt="guestbook title"></h2><div class="ul-body col-3"><div id="div_snsbbs">{% if isTemplate %}<div class="snsbbs_sections"><div class="ui-body-d"><div class="gb_cont_box btn_go_snsbbs"><div class="pro_info"><div class="pro_img"><img src="/bundles/viettutweb/img/templates/gardenwedding/img_profile.png" alt="profile picture"></div><div class="pro_txt"><p><strong>Sunny</strong></p><p class="date">2016-11-04 09:03</p></div></div><ul class="gb_cont btn_go_snsbbs"><li class="comm_txt"><p>I sincerely congratulate the marriage of the two! I really married when I saw two people and I married like this !!!! Really Too Much Too Much Too Pretty Couple Happily Long To Live Ham Frying ~~~</p></li></ul></div></div></div><div class="snsbbs_sections"><div class="ui-body-d"><div class="gb_cont_box btn_go_snsbbs"><div class="pro_info"><div class="pro_img"><img src="/bundles/viettutweb/img/templates/gardenwedding/img_profile.png" alt="profile picture"></div><div class="pro_txt"><p><strong>Windy</strong></p><p class="date">2016-10-05 15:36</p></div></div><ul class="gb_cont btn_go_snsbbs"><li class="comm_txt"><p>Chúc mừng đôi trẻ !</p><div class="emo-type-a emo08"></div></li></ul></div></div></div><div class="snsbbs_sections"><div class="ui-body-d"><div class="gb_cont_box btn_go_snsbbs"><div class="pro_info"><div class="pro_img"><img src="/bundles/viettutweb/img/templates/gardenwedding/img_profile.png" alt="profile picture"> {#<div class="pro-sns instagram"><span></span></div>#}</div><div class="pro_txt"><p><strong>Song Song</strong></p><p class="date">2016-07-19 18:12</p></div></div><ul class="gb_cont btn_go_snsbbs"><li class="comm_txt"><p>Xin chúc mừng về hôn nhân !!</p></li></ul></div></div></div><div class="snsbbs_sections"><div class="ui-body-d"><div class="gb_cont_box btn_go_snsbbs"><div class="pro_info"><div class="pro_img"><img src="/bundles/viettutweb/img/templates/gardenwedding/img_profile.png" alt="profile picture"></div><div class="pro_txt"><p><strong>Hoàng Hôn</strong></p><p class="date">2015-08-07 13:33</p></div></div><ul class="gb_cont btn_go_snsbbs"><li class="comm_txt"><p>Tôi ngưỡng mộ hai bạn</p><div class="emo-type-a emo02"></div></li></ul></div></div></div><div class="snsbbs_sections"><div class="ui-body-d"><div class="gb_cont_box btn_go_snsbbs"><div class="pro_info"><div class="pro_img"><img src="/bundles/viettutweb/img/templates/gardenwedding/img_profile.png" alt="profile picture"></div><div class="pro_txt"><p><strong>Hương Quỳnh</strong></p><p class="date">2015-06-23 17:08</p></div></div><ul class="gb_cont btn_go_snsbbs"><li class="comm_txt"><p>Tuyệt vời quá đẹp</p></li></ul></div></div></div><div class="snsbbs_sections"><div class="ui-body-d"><div class="gb_cont_box btn_go_snsbbs"><div class="pro_info"><div class="pro_img"><img src="/bundles/viettutweb/img/templates/gardenwedding/img_profile.png" alt="profile picture"></div><div class="pro_txt"><p><strong>이남수</strong></p><p class="date">2015-04-15 11:36</p></div></div><ul class="gb_cont btn_go_snsbbs"><li class="comm_txt"><p>Tôi thực sự chúc mừng bạn</p><div class="emo-type-a emo08"></div></li></ul></div></div></div><div class="snsbbs_sections"><div class="ui-body-d"><div class="gb_cont_box btn_go_snsbbs"><div class="pro_info"><div class="pro_img"><img src="/bundles/viettutweb/img/templates/gardenwedding/img_profile.png" alt="profile picture"></div><div class="pro_txt"><p><strong>Mạnh Hùng</strong></p><p class="date">2015-03-05 17:03</p></div></div><ul class="gb_cont btn_go_snsbbs"><li class="comm_txt"><p>Đây là thứ đẹp nhất mà tôi từng thấy !</p><div class="emo-type-b emo04"></div></li></ul></div></div></div><div class="snsbbs_sections"><div class="ui-body-d"><div class="gb_cont_box btn_go_snsbbs"><div class="pro_info"><div class="pro_img"><img src="/bundles/viettutweb/img/templates/gardenwedding/img_profile.png" alt="profile picture"></div><div class="pro_txt"><p><strong>Sương Đêm</strong></p><p class="date">2015-03-05 17:03</p></div></div><ul class="gb_cont btn_go_snsbbs"><li class="comm_txt"><p>Sống thật hạnh phúc nhé bạn của tôi</p></li></ul></div></div></div>{% else %} {% for comment in comments %}<div class="snsbbs_sections"><div class="ui-body-d"><div class="gb_cont_box btn_go_snsbbs"><div class="pro_info"><div class="pro_img"><img src="{{ comment.author.avatar }}" alt="profile picture"></div><div class="pro_txt"><p><strong>{{ comment.author.name }}</strong></p><p class="date">{{ comment.createdAt | date('d-m-Y H:i') }}</p></div></div><ul class="gb_cont btn_go_snsbbs"><li class="comm_txt"><p>{{ comment.content }}</p></li></ul></div></div></div>{% endfor %} {% endif %}</div></div>{% if isTemplate %}<div class="gb_btn btn_go_snsbbs" onclick="guestBookAlert()"><span>Chúc mừng</span></div>{% else %}<div class="gb_btn btn_go_snsbbs" onclick='gotoGuestBook("{{ hash }}")'><span>Chúc mừng</span></div>{% endif %}</div><div class="location_wrap ui-cont-b" id="sk_map"><h2 class="title hidden"><span>ĐỊA ĐIỂM</span></h2><div class="ul-body"><ul class="lo_tab_wrap"><li class="tab_btn wh locationtabs on" id="tabs_wedding">Lễ Thành Hôn</li><li class="tab_btn rh locationtabs" id="tabs_party">Tiệc Cưới</li></ul></div><div class="ul-body lo_contents locationdivs" id="div_wedding"><div class="lo_box"><h3 class="lo_title"><span class="icon"></span>{% if forGroom %}Nhà Trai{% else %}Nhà Gái{% endif %}</h3><div class="lo_map"><div id="wedding_pmap_canvas" class="not_view_panel" style="width:100%;height:500px;"></div></div></div><div class="lo_box col-2"><div class="ui-block-a"><div class="nav-wrap"><div class="ui-grid-a nav-m"><form action="https://maps.google.com/maps" method="get" target="_blank" id="getHomePath"><input type="text" name="saddr" placeholder="địa chỉ của bạn"> <input type="hidden" name="daddr" value='{{ data["home"] }}'></form><div class="nav-1"><div class="ui-btn-nav wedding_kimnavi"><span class="ui-btn ui-icon-nav1 ui-btn-icon-left ui-btn-b ui-corner-all ui-shadow ui-custom-btn fc-fff" onclick="getHomePath()">CHỈ ĐƯỜNG</span></div></div></div></div><div class="nav_info">※ Gõ chính xác địa chỉ của bạn vào ô ở trên.</div></div><div class="ui-block-b"><table class="lo_container"><tr><th class="lo_date"><span>Thời gian</span></th><td class="txt">{{ weddingDate | long_date }}, {{ weddingDate | date('H:i A') }}</td></tr><tr><th class="lo_loca"><span>Địa chỉ</span></th><td class="txt">{{ data['home'] }}</td></tr><tr><th class="lo_tel"><span>Liên hệ</span></th><td class="txt">{{ data['home_contact'] }}</td></tr><tr><th class="lo_info"><span>Hướng dẫn</span></th><td>{{ data['home_info'] }}</td></tr><tr><th class="lo_bus"><span>Xe khách</span></th><td>{{ data['bus_info'] }}</td></tr></table></div></div></div><div class="ul-body lo_contents locationdivs hide" id="div_party"><div class="lo_box"><h3 class="lo_title"><span class="icon"></span>{{ data['place'] }}</h3><div class="lo_map"><div id="party_pmap_canvas" class="not_view_panel" style="width:100%;height:500px;"></div></div></div><div class="lo_box col-2"><div class="ui-block-a"><div class="nav-wrap"><div class="ui-grid-a nav-m"><form action="https://maps.google.com/maps" method="get" target="_blank" id="getPath"><input type="text" name="saddr" placeholder="địa chỉ của bạn"> <input type="hidden" name="daddr" value='{{ data["place_addr"] }}'></form><div class="nav-1"><div class="ui-btn-nav wedding_kimnavi"><span class="ui-btn ui-icon-nav1 ui-btn-icon-left ui-btn-b ui-corner-all ui-shadow ui-custom-btn fc-fff" onclick="getPath()">CHỈ ĐƯỜNG</span></div></div></div></div><div class="nav_info">※ Gõ chính xác địa chỉ của bạn vào ô ở trên.</div></div><div class="ui-block-b"><table class="lo_container"><tr><th class="lo_date"><span>Thời gian</span></th><td class="txt">{{ date | long_date }}, {{ date | date('H:i A') }}</td></tr><tr><th class="lo_loca"><span>Địa chỉ</span></th><td class="txt">{{ data['place_addr'] }}</td></tr><tr><th class="lo_tel"><span>Liên hệ</span></th><td class="txt">{{ data['place_phone'] }}</td></tr><tr><th class="lo_info"><span>Hướng dẫn</span></th><td>{{ data['place_info'] }}</td></tr><tr><th class="lo_bus"><span>Xe khách</span></th><td>{{ data['bus_info'] }}</td></tr></table></div></div></div></div><div class="footer" id="sk_snslink"><div class="contents"><h4><a href="{{ path('home_page') }}" target="_blank"><img src="/bundles/viettutweb/img/templates/gardenwedding/lowercase-t-64-269636.png" alt="logo" title="thiepdo.com"> </a><span></span></h4><ul><div class="addthis_inline_share_toolbox"></div></ul></div></div></div><div class="popup_wrap popup_parents" style="display:none"><div class="popup_pabox"><ul class="pabox_tabs"><li data-tab="tabs_groom" class="tabs_groom active"><span>신랑 혼주</span></li><li data-tab="tabs_bride" class="tabs_bride"><span>신부 혼주</span></li></ul><div class="pabox_content pabox_groom" id="tabs_groom"><h1 class="pabox_tit"><span>신랑 김동명</span> <strong>신랑 혼주 연락하기</strong></h1><ul class="pabox_contact"><li><div class="name">김우진 님</div><div class="number"><p><a class="call" href="tel:01020000000"><span class="ico-phone">전화</span></a></p><p><a class="sms" href="sms:01020000000"><span class="ico-msg">문자</span></a></p></div></li><li><div class="name">최현미 님</div><div class="number"><p><a class="call" href="tel:01020000000"><span class="ico-phone">전화</span></a></p><p><a class="sms" href="sms:01020000000"><span class="ico-msg">문자</span></a></p></div></li></ul></div><div class="pabox_content pabox_bride" id="tabs_bride"><h1 class="pabox_tit"><span>신부 이은</span> <strong>신부 혼주 연락하기</strong></h1><ul class="pabox_contact"><li><div class="name">이찬혁 님</div><div class="number"><p><a class="call" href="tel:01020000000"><span class="ico-phone">전화</span></a></p><p><a class="sms" href="sms:01020000000"><span class="ico-msg">문자</span></a></p></div></li><li><div class="name">윤지은 님</div><div class="number"><p><a class="call" href="tel:01020000000"><span class="ico-phone">전화</span></a></p><p><a class="sms" href="sms:01020000000"><span class="ico-msg">문자</span></a></p></div></li></ul></div><div class="popup_back"><span id="">닫기</span></div></div></div><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--fit pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter" data-role="none"></div><button class="pswp__button pswp__button--close" title="Close (Esc)" data-role="none"></button> <button class="pswp__button pswp__button--image" title="Include Image" data-role="none"></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen" data-role="none"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out" data-role="none"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)" data-role="none"></button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)" data-role="none"></button><div class="pswp__caption"><div class="pswp__caption__center">Image caption 1</div></div></div></div></div>{% if voted == false %}<div id="signup" class="signup"><div class="container"><div class="row"><i>Vui lòng cho biết dự định của bạn !</i></div><div class="row"><button class="btn btn-success" id="btn_going" onclick="updateStatus(1)">Sẽ đến</button> &nbsp; <button class="btn btn-warning" id="btn_notsure" onclick="updateStatus(2)">Cân nhắc</button> &nbsp; <button class="btn btn-danger" id="btn_notgoing" onclick="updateStatus(3)">Không đến</button></div><a href="#" class="close"><i class="fa fa-times text-white"></i></a></div></div>{% endif %}<script src="{{ asset('js/libraries.min.js') }}"></script><script src="{{ asset('bundles/viettutweb/js/lib/wow.min.js') }}"></script><script type="text/javascript"><!--


    var swipe_exception = false;


    $(function () {

        function fixScrollEvent() {
            $("html,body").on("mousewheel", function () {
                event.preventDefault();

                var wheelDelta = event.wheelDelta;
                var currentScrollPosition = window.pageYOffset;

                window.scrollTo(0, currentScrollPosition - wheelDelta);
            });

            $("html,body").on("keydown", function (e) {
                e.preventDefault();

                var currentScrollPosition = window.pageYOffset;

                switch (e.which) {
                    case 38: // up
                        window.scrollTo(0, currentScrollPosition - 120);
                        break;

                    case 40: // down
                        window.scrollTo(0, currentScrollPosition + 120);
                        break;

                    default:
                        return;
                }
            });
        }


        $(".header_bg,.header_box").css("height", $(window).height());
        //$(window).bind("orientationchange, resize", function(e) {$(".header_bg,.header_box").css("height",$(window).height());});

        var headerTitle = $('.header_box').offset().top;
        var headerAnimate = function () {
            var scrollTop = $(window).scrollTop();

            if (scrollTop > headerTitle + 10) {
                $('.header_box').addClass('fadeOut');
                $('.lnb').addClass('slideDown');

                $('.header_panel .groom').addClass('slideLeft');
                $('.header_panel .bride').addClass('slideRight');
            } else {
                $('.header_box').removeClass('fadeOut');
                $('.lnb').removeClass('slideDown');
                $('.header_panel .groom').removeClass('slideLeft');
                $('.header_panel .bride').removeClass('slideRight');
            }
        };

        $(window).scroll(function () {
            headerAnimate();
        });

        $("body").on("mousewheel", function () {
            event.preventDefault();
            var wheelDelta = event.wheelDelta;
            var currentScrollPosition = window.pageYOffset;
            window.scrollTo(0, currentScrollPosition - wheelDelta);
        });

        try {
            var galleryTitle = $('.gallery_wrap').offset().top;
            var galleryAnimate = function () {
                var scrollTop = $(window).scrollTop();
                if (scrollTop > galleryTitle - 100) {
                    $('.lnb').addClass('moveUp');
                } else {
                    $('.lnb').removeClass('moveUp');
                }
            };

            $(window).scroll(function () {
                galleryAnimate();
            });
        } catch (e) {
        }

        wow = new WOW(
                {
                    boxClass: 'wow',      // animated element css class (default is wow)
                    animateClass: 'animated', // animation css class (default is animated)
                    offset: 0,          // distance to the element when triggering the animation (default is 0)
                    mobile: false,       // trigger animations on mobile devices (default is true)
                    live: true,       // act on asynchronously loaded content (default is true)
                    callback: function (box) {
                        // the callback is fired every time an animation is started
                        // the argument that is passed in is the DOM node being animated
                    },
                    scrollContainer: null // optional scroll container selector, otherwise use window
                }
        );
        wow.init();

        // 네이버 지도시 스마트폰 회전 감지하여 지도 초기화(마커 위치 센터)
        $(window).on("orientationchange", function () {
            callMapInitializeAfterResize();
        });

        function callMapInitializeAfterResize() {
            if ($('#tabs_wedding').hasClass('on') !== false) initialize('wedding');
            else initialize('party');
        }


        // -- map -- //
        function initialize(md) {
        }

        $('#div_snsbbs').masonry({
            //columnWidth: .snsbbs_sections,
            //isFitWidth : true,
            itemSelector: '.snsbbs_sections',
            transitionDuration: 0
        }).on('layoutComplete', function () {
            return true;
        });

        var closest = function closest(el, fn) {
            return el && (fn(el) ? el : closest(el.parentNode, fn));
        };

        var photoswipeParseHash = function () {
            var hash = window.location.hash.substring(1),
                    params = {};

            if (hash.length < 5) {
                return params;
            }

            var vars = hash.split('&');
            for (var i = 0; i < vars.length; i++) {
                if (!vars[i]) {
                    continue;
                }
                var pair = vars[i].split('=');
                if (pair.length < 2) {
                    continue;
                }
                params[pair[0]] = pair[1];
            }

            if (params.gid) {
                params.gid = parseInt(params.gid, 10);
            }

            return params;
        };

        function getGallery($el) {
            var el = [];
            var aTag = Array.prototype.slice.call($el.find("a"));

            $.merge(el, aTag);

            return el;
        }

        function onThumbnailsClick(e) {
            e = e || window.event;
            e.preventDefault ? e.preventDefault() : e.returnValue = false;

            var eTarget = e.target || e.srcElement;
            var clickedListItem = closest(eTarget, function (el) {
                var tagName = el.tagName.toUpperCase();
                return (tagName && tagName === 'A');
            });

            if (!clickedListItem) {
                return;
            }

            if (clickedListItem.className.indexOf("swipebox") == -1) {
                return false;
            }

            var childNodes = el,
                    numChildNodes = el.length,
                    nodeIndex = 0,
                    index = 0;

            var no_image_count = 0;
            for (var i = 0; i < numChildNodes; i++) {
                if (el[i].className.indexOf("swipebox") == -1) {
                    no_image_count++;
                }

                if (el[i] == clickedListItem) {
                    index = i - no_image_count;

                    break;
                }
            }

            if (index >= 0) {
                openPhotoSwipe(index, el);
            }

            return false;
        }

        var gallery;

        function getPrefix(prop) {
            var style = document.body.style;
            var prefix = ['Webkit', 'ms', 'moz', 'o'];
            var prefix_len = prefix.length;

            if (style[prop] == '') {
                return prop;
            }

            prop = prop[0].toUpperCase() + prop.slice(1);

            for (var i = 0; i < prefix_len; i++) {
                if (style[prefix[i] + prop] == '') {
                    return prefix[i] + prop;
                }
            }
        }

        function getTranslate(transform) {
            var regex;

            if (transform.indexOf('translate3d') == -1) {
                regex = /translate\(([-0-9.]+)px, ([-0-9.]+)px\)/;
            } else {
                regex = /translate3d\(([-0-9.]+)px, ([-0-9.]+)px, ([-0-9.]+)px\)/;
            }

            var matched = transform.match(regex);
            var coordinate = {};

            coordinate.x = matched[1];
            coordinate.y = matched[2];

            if (matched[3]) {
                coordinate.z = matched[3];
            }

            return coordinate;
        }

        function getScale(transform) {
            var regex = /scale\(([0-9.]+)\)/;
            var matched = transform.match(regex);

            return matched[1];
        }

        function psBeforeInitAddEvent() {
            gallery.listen('gettingData', function (index, item) {
                var size = item.el.getAttribute("data-size").split("X");

                item.w = size[0];
                item.h = size[1];
            });

            gallery.listen('arrowUpdate', function () {
                var $nextBtn = $('.pswp__button--arrow--right');
                var $prevBtn = $('.pswp__button--arrow--left');
                var loop = this.options.loop;
                var index = this.getCurrentIndex();

                $nextBtn.toggle(loop || index < this.items.length - 1);
                $prevBtn.toggle(loop || index > 0);
            });

            gallery.listen('initialZoomIn', function () {

            });
        }

        function psAfterInitAddEvent() {
            gallery.listen('initialZoomOut', function () {
                var item = this.currItem;
                var container_style = item.container.style;
                var transform = getPrefix('transform');
                var transition = getPrefix('transition');

                if (!transform || !transition) {
                    return;
                }

                var container_transform = container_style[getPrefix('transform')];
                var scale = getScale(container_transform);
                var coordinate = getTranslate(container_transform);
                var initTransY = item.initialPosition.y;
                var currTransY = coordinate.y;
                var size = item.el.getAttribute("data-size").split("X");
                var transX = item.initialPosition.x;
                var transY;

                if (initTransY > currTransY) {
                    transY = -(size[1]);
                } else {
                    transY = window.screen.availHeight;
                }

                container_style[transition] = "transform " + gallery.options.hideAnimationDuration + "ms";

                if (!this.isGestureClose() && this.isVerticalDrag()) {
                    container_style[getPrefix('transform')] = "translate3d(" + transX + "px, " + transY + "px, 0px) scale(" + scale + ")";
                }
            });

            gallery.listen('close', function () {
                this.framework.bind(window, 'scroll', function () {
                    if (typeof headerAnimate == "function") {
                        headerAnimate();
                    }
                });
            });
        }

        var openPhotoSwipe = function (index, galleryElement, disableAnimation, fromURL) {
            var pswpElement = document.querySelector('.pswp'),
                    options, items, kakaoInApp;

            items = parseThumbnailElements(galleryElement);

            if (/KAKAOTALK/.test(navigator.userAgent)) {
                kakaoInApp = true;
            }

            options = {
                useZoom: true,
                arrowKeys: false,
                hideAnimationDuration: 200,
                showAnimationDuration: 100,
                loop: false,
                imageEl: true,
                galleryUID: $my_gallery[0].getAttribute('data-pswp-uid'),
                showHideOpacity: true,
                getThumbBoundsFn: false,
                closeOnScroll: false,
                kakaoInApp: kakaoInApp,
            };

            if (fromURL) {
                if (options.galleryPIDs) {

                    for (var j = 0; j < items.length; j++) {
                        if (items[j].pid == index) {
                            options.index = j;
                            break;
                        }
                    }
                } else {
                    options.index = parseInt(index, 10);
                }
            } else {
                options.index = parseInt(index, 10);
            }

            if (isNaN(options.index)) {
                return;
            }

            if (disableAnimation) {
                options.showAnimationDuration = 0;
            }

            gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);

            gallery.useAniNum = false;

            // 방명록 글쓰기에 이미지 첨부
            gallery.includeImage = function () {
                var id = gallery.currItem.id
                var url = "FallInLove/snsbbs/w/" + id;
                var kakaoInApp = gallery.options.kakaoInApp;

                /* KAKAO 인앱 브라우저의 경우 특정 기기에서 전체화면 기능을 키고 방명록 글쓰기 버튼을 눌렀을 때 키보드가 나오지 않는 문제가 있어서 추가
                 (스마트폰 브라우저 창에 특정 작동을 시켜주면 풀리는 이유로 window.open 사용) */
                if (!kakaoInApp) {
                    window.location = url;
                } else {
                    window.open(url);
                }
            }

            psBeforeInitAddEvent();
            gallery.init();
            psAfterInitAddEvent();
        };

        var parseThumbnailElements = function (el) {
            var imageElements = el,
                    numNodes = imageElements.length,
                    items = [],
                    size,
                    item;
            var wrapper = document.createElement('div');
            var imageEl,
                    thumbEl;

            for (var i = 0; i < numNodes; i++) {
                imageEl = imageElements[i];

                if (imageEl.nodeType !== 1) {
                    continue;
                }

                var img_el = imageEl.getElementsByTagName("img");
                var exist_img = img_el.length > 0 ? true : false;
                var src = imageEl.href;
                var is_swipe_image = imageEl.className.indexOf("swipebox") > -1 ? true : false;
                var msrc;
                var $imageEl = $(imageEl);

                if (!is_swipe_image) {
                    continue;
                }

                if (!exist_img) {
                    thumbEl = imageEl.getElementsByTagName("div")[0];

                    if (thumbEl) {
                        msrc = thumbEl.style.backgroundImage.slice(4, -1).replace(/"/g, "");
                    } else {
                        var piece = src.split("/");
                        var pieceCount = piece.length;
                        var file = piece[pieceCount - 1]

                        piece[pieceCount - 1] = "S_" + file;

                        msrc = piece.join("/");
                    }
                } else {
                    if ($imageEl.parent(".gal_more").length > 0 || $imageEl.children(".gal_more").length > 0) {
                        msrc = img_el[0].parentNode.href;
                    } else {
                        thumbEl = img_el[0];
                        msrc = thumbEl.src;
                    }
                }

                item = {
                    src: src,
                    msrc: msrc,
                    el: imageEl,
                };

                item.id = imageEl.getAttribute("imgId");
                items.push(item);
            }
            return items;
        };

        var $my_gallery = $("#sk_gallery");
        var my_gallery_count = $my_gallery.length;
        var el = getGallery($my_gallery);
        var $el = $(el);
        var hashData = photoswipeParseHash();

        $el.on("click", onThumbnailsClick);

        for (var i = 0; i < my_gallery_count; i++) {
            $my_gallery[i].setAttribute("data-pswp-uid", i + 1);
        }

        if (hashData.pid && hashData.gid) {
            openPhotoSwipe(hashData.pid - 1, el, true, true);
        }

        $(document).on("keydown keyup", function (e) {
            var hidden = $(".pswp").attr("aria-hidden") == "true";

            if (hidden) {
                return;
            }

            var keydownAction = '';
            var index = gallery.getCurrentIndex();
            var gallery_len = gallery.items.length;

            if (e.type == "keydown") {
                if (e.keyCode === 37 && index != 0) {
                    keydownAction = 'prev';
                } else if (e.keyCode === 39 && index != (gallery_len - 1)) {
                    keydownAction = 'next';
                }
            } else if (e.type == "keyup") {
                if (e.keyCode === 37 && index == 0) {
                    keydownAction = 'prev';
                } else if (e.keyCode === 39 && index == (gallery_len - 1)) {
                    keydownAction = 'next';
                }
            }

            if (keydownAction) {
                if (!e.ctrlKey && !e.altKey && !e.shiftKey && !e.metaKey) {
                    if (e.preventDefault) {
                        e.preventDefault();
                    } else {
                        e.returnValue = false;
                    }

                    gallery[keydownAction]();
                }
            }
        });

        $('.locationtabs').click(function () {
            var id = $(this).attr('id').replace('tabs_', '');
            $('.locationtabs').removeClass('on');
            $(this).addClass('on');
            $('.locationdivs').removeClass('hide');
            $('.locationdivs').addClass('hide');
            $('#div_' + id).removeClass('hide');

            setLocationInfoHeight();

            initialize(id);
        }).css('cursor', 'pointer');

        $('.wedding_kimnavi,.party_kimnavi,.fbirthday_kimnavi,.ceremony_kimnavi').click(function () {
            var id = $(this).attr('class').replace('nav_btn nav_kimnavi ', '').replace('_kimnavi', '').replace('btn_', '').replace('ui-body-d ui-btn-nav ', '').replace('ui-block-a cont_box3 ', '');

            callKakaoNavi(id);
        });

        $('.wedding_ollehnavi,.party_ollehnavi,.fbirthday_ollehnavi,.ceremony_ollehnavi').click(function () {
            var id = $(this).attr('class').replace('nav_btn nav_ollehnavi ', '').replace('_ollehnavi', '').replace('btn_', '').replace('ui-body-d ui-btn-nav ', '').replace('ui-block-b cont_box4 ', '');

            callOllehNavi(id);
        });

        $('.ceremony_tmapnavi').click(function () {
            callTmapNavi('ceremony');
        });


        $('#div_snsbbs').masonry('bindResize');

        $('.btn_go_snsbbs').click(function () {
            location.href = "/FallInLove/snsbbs";
        }).css('cursor', 'pointer');

        $('#btn_line').click(function () {
            alert('모바일 기기에서만 사용 가능한 기능입니다.');
        });

        $('.btn_send_kakao').click(function () {
            alert('모바일 기기에서만 사용 가능한 기능입니다.');
        });

        function setLocationInfoHeight() {
        }

        function setPosition(id) {
            var $obj = $('#sk_' + id);
            // console.log(id);

            $('body').scrollTo($obj, 500);
        }

        $('.menu_scrolls').click(function () {
            try {
                if ($(this).attr('id')) {
                    var id = $(this).attr('id').replace('p_', '').replace('m_', '');
                    setPosition(id);
                } else {
                    window.location.href = '/';
                }
            } catch (e) {
            }
        }).css('cursor', 'pointer');


        $('.pa-groom').click(function () {
            $('.tabs_bride, #tabs_bride').removeClass('active');
            $('.tabs_groom, #tabs_groom').addClass('active');

            showParentPopup();
        });

        $('.pa-bride').click(function () {
            $('.tabs_groom, #tabs_groom').removeClass('active');
            $('.tabs_bride, #tabs_bride').addClass('active');

            showParentPopup();
        });

        $('.popup_back span').click(function () {
            $('body').css('overflow-y', '');
            $('.popup_parents').hide();
        });

        $('.pabox_tabs li').click(function () {
            var tab_id = $(this).attr('data-tab');

            $('ul.pabox_tabs li').removeClass('active');
            $('.pabox_content').removeClass('active');

            $(this).addClass('active');
            $("#" + tab_id).addClass('active');
        });

        $('.call, .sms').on('click', function (e) {
            var agent = window.navigator.userAgent;
            var is_mobile = /iphone|ipod|ipad|android|windows ce|blackberry|symbian|windows phone|webos|opera mini|opera mobi|polaris|iemobile|lgtelecom|nokia|sonyericsson/i.test(agent);

            if (!is_mobile) {
                alert('해당 기능은 모바일에서만 가능합니다.');
                e.preventDefault();
                return false;
            }
        });

        function showParentPopup() {
            var parent_count = $('.pa-list').attr('data-count');

            if (parent_count > 1) {
                $('.pabox_tabs').show();
            } else {
                $('.pabox_tabs').hide();
            }

            $('body').css('overflow-y', 'hidden');
            $('.popup_parents').show();
        }

    });

    $(window).load(function () {


        $('.gal_list2').masonry({
            itemSelector: '.gal_frame',
            columnWidth: '.gal_size',
            transitionDuration: '0.2s',
            percentPosition: true
        });

        $('#div_gallery').masonry({itemSelector: '.gallery_sections'});

        {% if isTemplate == false %}
        $('.movie_wrap').onScrollTo(function () {
            $('#signup').addClass('show');
        }, function () {
            $('#signup').removeClass('show');
        });

        $('#signup').on('click', '.close', function (e) {
            e.preventDefault();
            $('#signup').removeClass('show');
        });
        {% endif %}
    });

    (function ($) {
        $.fn.onScrollTo = function (focusInFn, focusOutFn) {
            var $this = this;
            $(document).scroll(function () {
                var y = $(this).scrollTop();
                if (y >= $this.position().top) {
                    if (focusInFn) focusInFn();
                } else {
                    if (focusOutFn) focusOutFn();
                }
            });
        }
    })(jQuery);

    function initMap() {
        var lat = $('#coordinates').data('lat');
        var lon = $('#coordinates').data('lon');
        var title = $('#coordinates').data('title');

        var homeLat = $('#coordinates').data('home-lat');
        var homeLon = $('#coordinates').data('home-lon');
        var homeTitle = $('#coordinates').data('home-title');

        var location = {lat: lat, lng: lon};
        var homeLocation = {lat: homeLat, lng: homeLon};

        var map = new google.maps.Map(document.getElementById('party_pmap_canvas'), {
            zoom: 16,
            center: location
        });
        var marker = new google.maps.Marker({
            position: location,
            map: map
        });

        var info = new google.maps.InfoWindow({
            content: '<h4>' + title + '</h4>'
        });
        info.open(map, marker);

        var homeMap = new google.maps.Map(document.getElementById('wedding_pmap_canvas'), {
            zoom: 16,
            center: homeLocation
        });
        var homeMarker = new google.maps.Marker({
            position: homeLocation,
            map: homeMap
        });

        var homeInfo = new google.maps.InfoWindow({
            content: '<h4>' + homeTitle + '</h4>'
        });
        homeInfo.open(homeMap, homeMarker);
    }

    function getPath() {
        var addr = $('#getPath input[name=saddr]').val();
        if (addr.length < 3) {
            $('#getPath input[name=saddr]').focus();
            alert('Nhập địa chỉ của bạn một cách chính xác!');
            return;
        }

        document.getElementById("getPath").submit();
    }

    function getHomePath() {
        var addr = $('#getHomePath input[name=saddr]').val();

        if (addr.length < 3) {
            $('#getHomePath input[name=saddr]').focus();
            alert('Nhập địa chỉ của bạn một cách chính xác!');
            return;
        }

        document.getElementById("getHomePath").submit();
    }

    //--></script><script>WebFontConfig={google:{families:["Lora:400,700i&amp;subset=vietnamese"]}},function(e){var t=e.createElement("script"),o=e.scripts[0];t.src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js",t.async=!0,o.parentNode.insertBefore(t,o)}(document)</script><script async defer="defer" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDwFP7Gn3MRg3XxdnxZ33dKlgHQa7SanZE&callback=initMap"></script><script async type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-52672eec5ea620cd"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-109753132-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-109753132-1")</script></body></html>